# MyBomBerman

åŸºäº Golang çš„å¤šäººåœ¨çº¿ç‚¸å¼¹äººæ¸¸æˆï¼Œé‡‡ç”¨**å¸¦æœ‰é¢„æµ‹çš„æƒå¨æœåŠ¡å™¨**æ¶æ„ã€‚

## ğŸ“‹ éœ€æ±‚

- æ”¯æŒ 2-4 äººè”æœº
- å®Œæ•´å¤ç°ç»å…¸ç‚¸å¼¹äººç©æ³•
- æµç•…çš„ç½‘ç»œåŒæ­¥ä½“éªŒ

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

### æƒå¨æœåŠ¡å™¨æ¨¡å¼

1. **å…¨å±€æˆ¿é—´**ï¼šå•ä¸ªæˆ¿é—´å®¹çº³ 2-4 äºº

   - å•äººæ¨¡å¼ï¼šæ— ä¼¤æ¼«æ¸¸ï¼ˆä¸ä¼šæ­»äº¡ï¼‰
   - å¤šäººæ¨¡å¼ï¼šç¬¬äºŒäººåŠ å…¥ 3 ç§’åå¼€å§‹è®¡ç®—ä¼¤å®³

2. **é€šä¿¡åè®®**

   - **ä¼ è¾“å±‚**ï¼šTCP/KCP
   - **åºåˆ—åŒ–**ï¼šProtobuf
   - **æ¶ˆæ¯æ ¼å¼**ï¼šè§ [api/proto/bomberman/v1/game.proto](api/proto/bomberman/v1/game.proto)

3. **å®¢æˆ·ç«¯å·¥ä½œæµ**

   ```
   é‡‡é›†è¾“å…¥ â†’ å‘é€ç»™æœåŠ¡å™¨ â†’ æ¥æ”¶å…¨é‡çŠ¶æ€ â†’ åº”ç”¨æœåŠ¡å™¨ç»“æœ â†’ æœ¬åœ°é¢„æµ‹æ¸²æŸ“
   ```

4. **æœåŠ¡å™¨é€»è¾‘**

   - æ‰§è¡Œå…¨é‡æ¸¸æˆé€»è¾‘
   - æ¯ä¸ªç”¨æˆ·åªæä¾›æŒ‰é”®ä¿¡æ¯
   - æ‰€æœ‰åˆ¤æ–­åœ¨æœåŠ¡å™¨å®Œæˆ

5. **å®¢æˆ·ç«¯é¢„æµ‹**

   - **è‡ªå·±**ï¼šä½¿ç”¨æœ¬åœ° Input æ‰§è¡Œé¢„æµ‹
   - **ä»–äºº**ï¼šå¤ç”¨ä¸Šä¸€å¸§æœåŠ¡å™¨çŠ¶æ€
   - **æœ€ç»ˆç»“æœ**ï¼šä»¥æœåŠ¡å™¨ä¸ºå‡†

## ğŸ“ é¡¹ç›®ç»“æ„

```
MyBomBerman/
â”œâ”€â”€ api/                    # Protobuf å®šä¹‰å’Œç”Ÿæˆä»£ç 
â”‚   â”œâ”€â”€ gen/               # ç”Ÿæˆçš„ Go ä»£ç 
â”‚   â””â”€â”€ proto/             # .proto æºæ–‡ä»¶
â”œâ”€â”€ pkg/                   # å…±äº«åŒ…ï¼ˆå®¢æˆ·ç«¯+æœåŠ¡å™¨ï¼‰
â”‚   â”œâ”€â”€ core/              # æ¸¸æˆæ ¸å¿ƒé€»è¾‘ï¼ˆå¸¸é‡ã€ç‰©ç†ã€ç¢°æ’ç­‰ï¼‰
â”‚   â””â”€â”€ protocol/          # åè®®è¾…åŠ©æ–¹æ³•ï¼ˆåºåˆ—åŒ–/ååºåˆ—åŒ–ï¼‰
â”œâ”€â”€ cmd/                   # å¯æ‰§è¡Œç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ client/            # å®¢æˆ·ç«¯ä¸»ç¨‹åº
â”‚   â””â”€â”€ server/            # æœåŠ¡å™¨ä¸»ç¨‹åº
â””â”€â”€ internal/              # å†…éƒ¨å®ç°
    â”œâ”€â”€ client/            # å®¢æˆ·ç«¯å†…éƒ¨é€»è¾‘
    â””â”€â”€ server/            # æœåŠ¡å™¨å†…éƒ¨é€»è¾‘
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Go 1.25+
- Buf CLIï¼ˆProtobuf ä»£ç ç”Ÿæˆï¼‰

### å®‰è£…å·¥å…·

```bash
make install-tools
```

### ç”Ÿæˆ Protobuf ä»£ç 

```bash
make gen
```

### è¿è¡Œæ¸¸æˆ

```bash
# å¯åŠ¨æœåŠ¡å™¨
go run cmd/server/main.go

# å¯åŠ¨å®¢æˆ·ç«¯ï¼ˆå¯å¼€å¤šä¸ªçª—å£ï¼‰
go run cmd/client/main.go
```

## ğŸ® æ¸¸æˆæœºåˆ¶

### åŸºç¡€å‚æ•°

- **å±å¹•å°ºå¯¸**ï¼š640x480
- **æ ¼å­å¤§å°**ï¼š32x32
- **åœ°å›¾å°ºå¯¸**ï¼š20x15
- **å¸§ç‡**ï¼š60 FPS
- **ç©å®¶é€Ÿåº¦**ï¼š120 åƒç´ /ç§’

### ç‚¸å¼¹ç³»ç»Ÿ

- **å†·å´æ—¶é—´**ï¼š200ms
- **çˆ†ç‚¸å»¶è¿Ÿ**ï¼š2 ç§’
- **çˆ†ç‚¸èŒƒå›´**ï¼š3 æ ¼ï¼ˆåå­—å½¢ï¼‰
- **çˆ†ç‚¸æŒç»­**ï¼š500ms

### è§’è‰²ç±»å‹

- ç»å…¸ç™½ã€æš—å¤œé»‘ã€çƒˆç„°çº¢ã€å†°éœœè“

### æŒ‰é”®æ§åˆ¶

- **ç§»åŠ¨**ï¼šWASD
- **ç‚¸å¼¹**ï¼šç©ºæ ¼é”®

## ğŸ”§ å¼€å‘æŒ‡å—

### æ ¸å¿ƒåŒ…è¯´æ˜

#### `pkg/core/`

- æ¸¸æˆå¸¸é‡å®šä¹‰
- ç‰©ç†è®¡ç®—ï¼ˆç¢°æ’æ£€æµ‹ã€ç§»åŠ¨é¢„æµ‹ï¼‰
- åœ°å›¾ç”Ÿæˆå’Œç®¡ç†

#### `pkg/protocol/`

- Protobuf æ¶ˆæ¯æ„é€ è¾…åŠ©å‡½æ•°
- åºåˆ—åŒ–/ååºåˆ—åŒ–å°è£…
- åœ°å›¾æ•°æ®ä¸€ç»´/äºŒç»´è½¬æ¢

### ç½‘ç»œåè®®

è§ [api/proto/bomberman/v1/game.proto](api/proto/bomberman/v1/game.proto)ï¼š

```protobuf
// å®¢æˆ·ç«¯ -> æœåŠ¡å™¨
message ClientInput { bool up/down/left/right/bomb; int32 seq; }
message JoinRequest { CharacterType character_type; }

// æœåŠ¡å™¨ -> å®¢æˆ·ç«¯
message ServerState { int32 frame_id; repeated PlayerState players; ... }
message GameStart { int32 your_player_id; MapState initial_map; }
message GameOver { int32 winner_id; }
```

### å¸¸ç”¨å‘½ä»¤

```bash
make gen          # ç”Ÿæˆä»£ç 
make clean        # æ¸…ç†ç”Ÿæˆæ–‡ä»¶
make lint         # æ£€æŸ¥ proto è¯­æ³•
make format       # æ ¼å¼åŒ– proto æ–‡ä»¶
make all          # å®Œæ•´å·¥ä½œæµï¼ˆclean + gen + lintï¼‰
```

## ğŸ“š å‚è€ƒèµ„æº

- [å‚è€ƒå®ç°](bomberman/) - å•æœºç‰ˆç‚¸å¼¹äººï¼ˆä»…ç”¨äºå®¢æˆ·ç«¯æ¸²æŸ“å‚è€ƒï¼‰
- [Buf æ–‡æ¡£](https://buf.build/docs)
- [Ebiten æ¸¸æˆå¼•æ“](https://ebiten.org/)
